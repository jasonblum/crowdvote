{% extends "base.html" %}
{% load static %}

{% block title %}CrowdVote - A Platform for Free Market Representation{% endblock %}

{% block content %}
<div class="relative min-h-screen bg-cover bg-center bg-no-repeat" style="background-image: url('{% static 'crowd.jpg' %}');">
  <!-- Dark overlay for better text readability -->
  <div class="absolute inset-0 bg-black bg-opacity-50"></div>
  
  <!-- Header with just Docs link -->
  <header class="absolute inset-x-0 top-0 z-50">
    <nav aria-label="Global" class="flex items-center justify-end p-6 lg:px-8">
      <div class="flex">
        <a href="{% url 'docs' %}" class="text-sm/6 font-semibold text-white hover:text-gray-300 transition-colors">
          Docs <span aria-hidden="true">→</span>
        </a>
      </div>
    </nav>
  </header>

  <!-- Hero Content -->
  <div class="relative isolate px-6 pt-14 lg:px-8">
    <div class="mx-auto max-w-2xl py-32 sm:py-48 lg:py-56">
      <div class="text-center">
        <!-- CrowdVote Logo -->
        <div class="mb-4">
          <img src="{% static 'logo.png' %}" alt="CrowdVote" class="h-20 sm:h-24 lg:h-28 mx-auto" style="mix-blend-mode: multiply;" />
        </div>
        <p class="mt-8 text-lg font-medium text-pretty text-gray-200 sm:text-xl/8">
          A platform for Free Market Representation<br/>
          (...because <i>Real Democracy</i> happens between elections!)
        </p>
        
        <!-- Email Signup Form -->
        <div class="mt-10 mx-auto max-w-md">
          <!-- Messages Display -->
          {% if messages %}
              <div class="mb-6 space-y-3">
                  {% for message in messages %}
                      {% if message.tags == 'success' %}
                          <div class="bg-green-50 bg-opacity-95 border border-green-200 rounded-lg p-4 text-green-800">
                              <div class="flex">
                                  <span class="text-green-500 mr-3">✉️</span>
                                  <div>
                                      <p class="font-medium">{{ message }}</p>
                                      <p class="text-sm text-green-600 mt-1">
                                          Check your email and click the link to sign in instantly!
                                      </p>
                                  </div>
                              </div>
                          </div>
                      {% elif message.tags == 'error' %}
                          <div class="bg-red-50 bg-opacity-95 border border-red-200 rounded-lg p-4 text-red-800">
                              <div class="flex">
                                  <span class="text-red-500 mr-3">⚠️</span>
                                  <p class="font-medium">{{ message }}</p>
                              </div>
                          </div>
                      {% else %}
                          <div class="bg-blue-50 bg-opacity-95 border border-blue-200 rounded-lg p-4 text-blue-800">
                              <div class="flex">
                                  <span class="text-blue-500 mr-3">ℹ️</span>
                                  <p class="font-medium">{{ message }}</p>
                              </div>
                          </div>
                      {% endif %}
                  {% endfor %}
              </div>
          {% endif %}
          
          <form method="post" action="{% url 'accounts:request_magic_link' %}" class="space-y-4">
              {% csrf_token %}
              <div>
                  <input type="email" 
                         name="email" 
                         placeholder="your.email@example.com"
                         required
                         class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-lg bg-white bg-opacity-95">
              </div>
              <button type="submit" 
                      class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition-all duration-200 transform hover:scale-105 shadow-lg">
                  Send Magic Link ✨
              </button>
          </form>
          
          <p class="text-sm text-gray-200 mt-4">
              No passwords required. We'll send you a secure link to get started.
          </p>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
